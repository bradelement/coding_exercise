trick...

用栈搞，每次存之前最远的不匹配下标..

dp搞，记录一下以i结尾的当前最长匹配长度
